# 数値型

{{ TOC }}

## 概要

あいうえお

## 演算子

### 演算子

| 利用可能な演算子 | 説明 |
|:-------------:|:---:|
| M + N | 足し算 |
| M - N | 引き算 |
| M * N | 掛け算 |
| M / N | 割り算 |
| M // N | 割り算(切り捨て) |
| M % N | 剰余(あまり) |
| M ** N | べき乗(M * M * M.. を N回) |

### 複合代入演算子

| 利用可能な演算子 | 説明 |
| M += N | M = M + N |
| M -= N | M = M - N |
| M *= N | M = M * N |
| M /= N | M = M / N |
| M %= N | M = M % N |
| M **= N | M = M ** N |

### プラスマイナスの反転

-x
+x

### 組み込み関数

abs
int
float
divmod
pow

数値を扱う関数も多数用意されており、
例えば前章にて扱った絶対値を得る関数やリスト(後述)の合計値を得る関数があります。


```
>>> abs(-3)
3
>>> sum([1,3,5])
9
```

数値の操作はさまざまな処理で利用されます。
たとえば解析ツールや統計処理を行うアプリケーションを作るのであれば、数学的な処理をする必要があります。
演算子と数学的知識を使って、それを自力で実装する方法もありますが、
可能であれば実装の労力と実効速度およびバグの少なさを考慮して「標準ライブラリ」や「外部のライブラリ」を使うべきです。
ライブラリ(モジュール)の使いかたは本書で扱いますが、個別ライブラリに関しては主に下編で扱います。


## 数値の範囲と型

### 整数型(int)

### 少数型(float)


## 基数

私たちが普段使う10進数を思い出してください。0、1、2…… と数が大きくなっていき、8、9となると次は桁があがって10になります。
このとき、ひとつの桁で表現できる数は0～9の10個であり、この1桁で表現できる数を「基数」と呼びます。
そしてその基数Nで表現される数え方を「N進数」と呼びます。
たとえば、0～9の10個であれば10進数、0～7の8個であれば8進数になります。

### 2進数と16進数

では、0～1で表現されるのは、基数が何で何進数と呼ばれているでしょうか。
基数が2なので、2進数です。コンピュータが理解可能なのは01だけという話を何度もしていますが、
要するにコンピュータは2進数を使うということです。

ただ、人間は01だけで構成された数字を見せられても、あまりピンときません。
たとえば、適当に打った01000100010011110010という2進数の大きさがどれほどなのか、一瞬では把握できません。
これを10進数に直すと279794になり、およそ28万であるということがわかります。

2進数を人が読みやすい10進数に変換するのは結構骨が折れます。
たとえば、01001101という2進数を10進数に変換するには、
2進数の各桁の値(0 or 1)に2 の“桁－1”乗をかけた値を足しあわせていくという処理を行います。
試しに低い桁から順に足しあわせて計算してみます。

```
(1 x 2^0) + (0 x 2^1) + (1 x 2^3) + (1 x 2^4) + (0 x 2^5) + (0 x 2^6) + (1 x 2^7) + (0 x 2^8)
 = 1 + 0 + 4 + 8 + 0 + 0 + 64 + 0
 = 77

# 補足
# N^MはNのM乗という意味。べき乗をテキストで表現できるので便利な書き方
# Python的に書くとN ** M
# 2^0 は1, 2^1は2, 2^2は4,……, 2^8は128
```

2進数 01001101 から 10進数の 77 を求められています。
疑い深い人は2進数から10進数に変換できるアプリケーションの電卓などもあるでしょうから、確認してみてもいいかもしれません。
0進数から2進数への変換はこの逆で、割り算を繰り返すようなことをします。

以上のように「2進数は桁が大きくなりわかりづらい」ものの「10進数は2進数と相性が悪い(変換しにくい)」という問題があるので、
コンピュータでは2進数と相性がよい16進数がよく使われます。
16進数は0～9までの数字だと16パターンを表現できないので、
アルファベットを使って、0から15までを1桁で表現します。
具体的には以下のようになります。

```
16進数 : 10進数
0  :  0
1  :  1
2  :  2
…
8  :  8
9  :  9
A  : 10
B  : 11
C  : 12
D  : 13
E  : 14
F  : 15
10 : 16   # 桁が増える
11 : 17
…
```

この16進数は2進数と非常に相性がよく、2進数の4桁をちょうど16進数だと1桁で表現できます。
0000～1111は10進数でいうと0～15なので、ちょうど16進数の0～Fにピッタリあてはまるのです。
1バイト(0から255)は8ビット、つまり2進数が8桁なので、ちょうど16進数2桁で表現できます。

### 基数の変換

基数変換に便利なPythonの関数を紹介します。10進数から2進数、8進数、16進数への変換は専用の関数を使います。

```python
print(bin(100))  # 2進数
# 0b1100100

print(oct(100))  # 8進数
# 0144

print(hex(100))  # 16進数
# 0x64
```

先頭に何かついていますが、0bは2進数、0xは16進数という表明に使います。
8進数は0だけを先頭につけるというルールもありますが、桁埋めの0と混同しないように注意してください。

次に、N進数から10進数への変換です。実はこれはすでに使ったことがある関数 int を使います。

```python
print(int('100'))
# 100

print(int('1100100', 2))  # 2進数
# 100

print(int('0144', 8))  # 8進数
# 100

print(int('64', 16))   # 16進数
# 100

print(int('6B', 16))   # A,B,C……も使える
# 107

print(int('212', 3))      # あまり使わないN進数も一応使える
# 23
```

intの第一引数に数字のもとになる文字列を入れ、第二引数に基数を指定します。
第二引数を省略すると10進数として扱われます。基数とN進数に関しては以上です。

### 基数の変換のプログラム

コメント: アルゴリズムの説明とサンプルコードを書くこと
