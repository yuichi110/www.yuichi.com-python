<!DOCTYPE html>
<html lang="ja-JP">
 <head>
  <meta charset="utf-8"/>
  <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <meta content="Sample Description" name="description"/>
  <meta content="Yuichi Ito" name="author"/>
  <title>
   Python入門
  </title>
  <link href="/img/favicon.ico" rel="shortcut icon"/>
  <!-- Bootstrap -->
  <link href="./assets/css/bootstrap.css" rel="stylesheet">
   <link href="./assets/css/bootstrap-theme.css" rel="stylesheet"/>
   <link href="./assets/css/bootstrap_u1.css" rel="stylesheet"/>
   <!-- Font -->
   <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"/>
   <link href="https://fonts.googleapis.com/earlyaccess/mplus1p.css" rel="stylesheet">
    <!-- Code Highlight -->
    <link href="./assets/css/codehilite_colorful.css" rel="stylesheet"/>
    <!-- Custom -->
    <link href="./assets/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="./assets/icomoon/style.css" rel="stylesheet"/>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
   </link>
  </link>
 </head>
 <body>
  <div class="backgroundLayer">
   <!-- Fixed navbar -->
   <nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
     <div class="navbar-header">
      <button aria-controls="navbar" aria-expanded="false" class="navbar-toggle collapsed" data-target="#navbar" data-toggle="collapse" type="button">
       <span class="sr-only">
        Toggle navigation
       </span>
       <span class="icon-bar">
       </span>
       <span class="icon-bar">
       </span>
       <span class="icon-bar">
       </span>
      </button>
      <a class="navbar-brand " href="./">
       Python
      </a>
     </div>
     <div class="navbar-collapse collapse" id="navbar">
      <ul class="nav navbar-nav">
       <li class="">
        <a href="./navi.html">
         Navi
        </a>
       </li>
       <li class="">
        <a href="./qa.html">
         QA
        </a>
       </li>
       <li class="">
        <a href="./books.html">
         Books
        </a>
       </li>
       <li style="font-family: avenger">
        <a href="/">
         GC
        </a>
       </li>
      </ul>
     </div>
    </div>
   </nav>
   <div class="container">
    <div class="u1-header">
     <a href="./" style=" text-decoration: none;">
      <div class="u1-title">
       Python Boot Camp
      </div>
      <p class="lead u1-description">
       プログラミング言語Python訓練プログラム
      </p>
     </a>
    </div>
    <div class="row">
     <div class="col-sm-8 u1-main">
      <!-- GENERATED HTML START -->
      <!-- GENERATED HTML START -->
      <h1>
       定数とマジックナンバー
      </h1>
      <div class="no_bullets" id="toc_container">
       <p class="toc_title">
        本記事の内容
       </p>
       <ul class="toc_list">
        <li>
         <a href="#header-1">
          概要
         </a>
        </li>
        <li>
         <a href="header-2">
          定数とはなにか
         </a>
        </li>
        <li>
         <a href="header-3">
          定数はどういうものに使われるか
         </a>
         <ul>
          <li>
           <a href="#header-4">
            マジックナンバーの説明
           </a>
          </li>
          <li>
           <a href="#header-5">
            プログラムのパラメーター
           </a>
          </li>
          <li>
           <a href="#header-6">
            プログラム中の識別子
           </a>
          </li>
         </ul>
        </li>
        <li>
         <a href="#header-7">
          「Pythonの定数」は定数ではない
         </a>
        </li>
       </ul>
      </div>
      <h2 id="header-1">
       概要
      </h2>
      <p class="blog-img">
       <img alt="image" class="img-responsive" src="./0050_image/01.png"/>
      </p>
      <p>
       変数はその名前から分かるように、その中身が「変わる」ことがあります。
値が初期化されたものから変わらない場合は変数の代わりに「定数」を使います。
      </p>
      <p>
       定数はその名前にあるように「定まった数」ですので、中身が変わることがありません。
定数を使うことでプログラム中に登場するパッと見てなにか分からない「マジックナンバー」をなくしたり、
プログラムのパラメーターを調整しやすくなったりします。
      </p>
      <p>
       プログラミング言語の多くは定数を文法として持っていますが、Pythonには文法としての定数はありません。
ただ、定数という仕組みは便利ですので、プログラマの間でのルールとしてPythonの定数は用いられれています。
変数を大文字のアルファベットの単語とアンダーバーで区切ると、それは変数ではなく定数として扱うことになっています。
      </p>
      <p>
       Pythonの文法レベルでは定数は変数にすぎません。
そのため、初期化済みの定数に値を再代入することはできます。
ただ、そのようなことをすると「定数の値が常に同じ」というルールが信用できなくなりますので、
絶対に再代入しないでください。
      </p>
      <h2 id="header-2">
       定数とはなにか
      </h2>
      <p>
       プログラムの中にはたまに「
       <strong>
        マジックナンバー
       </strong>
       」と呼ばれる「正体不明の数字」が現れることがあります。
たとえば以下のコードを見て下さい。
      </p>
      <div class="codehilite">
       <pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">*</span> <span class="mf">1.08</span>
<span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre>
      </div>
      <p>
       このコードが何をやっているか分からないかもしれませんが、
私は「1.08は税率」として、税抜き100円が税込みいくらになるかを計算する意図で書いています。
      </p>
      <p>
       1.08という数字を見て勘のいいかたであれば、「税率のようだ」と気づくかもしれませんが、
プログラミングはそのような気づきには頼ってほしくありません。
誰が見ても理解できるコードであるべきです。
      </p>
      <p>
       もしこれが1.08というよくわからない「マジックナンバー」ではなく、
「tax_rate(税率)」という1.08を持った変数であれば、
その名前からそれが税率であることは一目瞭然となります。
      </p>
      <p>
       税率は数年単位であれば変わる可能性がありますが、
Pythonのその場限りのプログラムを動かしている最中に変わることはないでしょう。
そのような場合は「値が変わる可能性がある変数」ではなく、
「絶対に値が変わらない」性質を持つ「
       <strong>
        定数
       </strong>
       」を使います。
      </p>
      <p>
       「定数は一回設定されたら変更されることがない」という性質を持つ特殊な変数であり、
その「名前は大文字とアンダーバー」で宣言されます。
そして「定数は一般的にプログラムのファイルの先頭周辺で宣言」されます。
      </p>
      <p class="blog-img">
       <img alt="image" class="img-responsive" src="./0050_image/01.png"/>
      </p>
      <p>
       例えば先程の税込み額の計算プログラムを、定数を使って書き直すと以下のようになります。
      </p>
      <div class="codehilite">
       <pre><span></span><span class="n">TAX_RATE</span> <span class="o">=</span> <span class="mf">1.08</span>

<span class="n">a</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">*</span> <span class="n">TAX_RATE</span>
<span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre>
      </div>
      <p class="blog-img">
       <img alt="image" class="img-responsive" src="./0050_image/02.png"/>
      </p>
      <p>
       定数はプログラムのパラメータとして使われることも多く、
ファイルを開いて定数の値を変更することでプログラムの挙動を変えることがよくあります。
例えば税率が10%に変更されたら、プログラム本体ではなく定数を書き換えることで対応します。
      </p>
      <div class="codehilite">
       <pre><span></span><span class="n">TAX_RATE</span> <span class="o">=</span> <span class="mf">1.10</span>

<span class="n">a</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">*</span> <span class="n">TAX_RATE</span>
<span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre>
      </div>
      <p>
       もし仮に定数を使わずに1.08という税率をプログラムのいたるところに書いていたら、
全てを修正するのは大変です。
1.08を直接書くのではなく、それが代入されている定数TAX_RATEを使っていれば、
その初期化の値を1.08から1.10に変更するだけで全ての箇所で変更が適用されます。
      </p>
      <p class="blog-img">
       <img alt="image" class="img-responsive" src="./0050_image/03.png"/>
      </p>
      <h2 id="header-3">
       定数はどういうものに使われるか
      </h2>
      <h3 id="header-4">
       マジックナンバーの説明
      </h3>
      <p>
       定数の利用目的はいくつかあり、その1つは先ほど解説した「マジックナンバーの説明」という用途です。
      </p>
      <h3 id="header-5">
       プログラムのパラメーター
      </h3>
      <p>
       その他にもプログラムの変更可能なパラメーターとして定数を使うことがあります。
例えば後ほど扱うファイルを扱うプログラムにおいて、
どのファイルを読むか、どのファイルに書くかといったことを定数で定義をしておけば、
そのプログラムを使うユーザーがプログラムファイルの冒頭にある定数の値を書き換えるだけで変更ができます。
もし読み込むファイルの指定が定数でなく、分かりにくい場所にあれば、
変更を加えるためにプログラムを読んで理解しなければいけなくなります。
      </p>
      <h3 id="header-6">
       プログラム中の識別子
      </h3>
      <p>
       その他にはプログラムの様々な箇所で使われる「識別子」としての役割もあります。
たとえばGUIを使うプログラムで色に応じた対応をする際に文字列の「'red'」などで色を認識させるのも一つのですが、
これを「RED」という定数にすることのほうが望ましいです。
      </p>
      <p>
       なぜなら文字列であればタイプミスをしても文法的な間違いにはならないため、
「'red'」ではなく「'ret'」などとなっていてもプログラムが動いてしまい期待されない動作を引き起こす可能性が高いです。
一方、定数の「RED」であれば、タイプミスがあれば文法エラーとなるため、問題箇所が即座に判明します。
      </p>
      <h2 id="header-7">
       「Pythonの定数」は定数ではない
      </h2>
      <p>
       他のプログラミングを学んだことがある人であれば知っているかと思いますが、
一般的に「定数は上書きできない」という性質があります。
定数を初期化した後に、なんらかの値を再代入しようとするとエラーとなります。
      </p>
      <p>
       ただ、実はPythonの定数は「大文字をアンダーバーで区切った単なる変数」にすぎません。
そのため、以下のように定数の値を上書きしてもエラーは発生しません。
      </p>
      <div class="codehilite">
       <pre><span></span><span class="n">TAX_RATE</span> <span class="o">=</span> <span class="mf">1.08</span>
<span class="n">TAX_RATE</span> <span class="o">=</span> <span class="mf">1.10</span>
</pre>
      </div>
      <p>
       Pythonのプログラマの多くは他のプログラミング言語も知っています。
その人達は定数の利便性を知っているので、
定数の文法が存在しないPythonでも「大文字とアンダーバーで構成された変数を定数として扱う」というルールを自分たちで決めました。
      </p>
      <p>
       Pythonの定数へは値の再代入ができます。
ただ、定数の初期化後にその値が別のものに変わることは誰も想定していません。
定数への再代入は絶対にしないでください。
      </p>
      <!-- GENERATED HTML END -->
      <!-- GENERATED HTML END -->
      <nav>
       <ul class="pager">
        <li id="previous-li">
         <a href="./009.html" id="previous-a">
          ← Previous
         </a>
        </li>
        <li>
         <a href="#">
          Page Top
         </a>
        </li>
        <li class="pager-next" id="next-li">
         <a href="./011.html" id="next-a">
          Next →
         </a>
        </li>
       </ul>
      </nav>
     </div>
     <!-- /.blog-main -->
     <div class="col-sm-3 col-sm-offset-1 u1-sidebar">
      <!-- SNS start -->
      <div class="sidebar-module">
       <ul class="social-buttons">
        <li>
         <!-- hatena -->
         <a class="hatena-bookmark-button" data-hatena-bookmark-lang="ja" data-hatena-bookmark-layout="basic-label-counter" href="http://b.hatena.ne.jp/entry/" title="このエントリーをはてなブックマークに追加">
          <img alt="このエントリーをはてなブックマークに追加" height="20" src="https://b.st-hatena.com/images/entry-button/button-only@2x.png" style="border: none;" width="20"/>
         </a>
         <script async="async" charset="utf-8" src="https://b.st-hatena.com/js/bookmark_button.js" type="text/javascript">
         </script>
        </li>
        <li>
         <!-- FB -->
         <div class="fb-like" data-action="like" data-layout="button_count" data-share="true" data-show-faces="false" data-size="small">
         </div>
         <div id="fb-root">
         </div>
         <script>
          (function(d, s, id) {
                    var js, fjs = d.getElementsByTagName(s)[0];
                    if (d.getElementById(id)) return;
                    js = d.createElement(s);
                    js.id = id;
                    js.src = "//connect.facebook.net/ja_JP/sdk.js#xfbml=1&version=v2.9";
                    fjs.parentNode.insertBefore(js, fjs);
                  }(document, 'script', 'facebook-jssdk'));
         </script>
        </li>
        <li>
         <!-- twitter -->
         <a class="twitter-share-button" href="https://twitter.com/share">
          Tweet
         </a>
         <script>
          ! function(d, s, id) {
                    var js, fjs = d.getElementsByTagName(s)[0],
                      p = /^http:/.test(d.location) ? 'http' : 'https';
                    if (!d.getElementById(id)) {
                      js = d.createElement(s);
                      js.id = id;
                      js.src = p + '://platform.twitter.com/widgets.js';
                      fjs.parentNode.insertBefore(js, fjs);
                    }
                  }(document, 'script', 'twitter-wjs');
         </script>
        </li>
        <li>
         <!-- G+ -->
         <!-- head 内か、body 終了タグの直前に次のタグを貼り付けてください。 -->
         <script async="" defer="" src="https://apis.google.com/js/platform.js">
          {
                    lang: 'ja'
                  }
         </script>
         <!-- 共有ボタン を表示したい位置に次のタグを貼り付けてください。 -->
         <div class="g-plus" data-action="share" data-annotation="none" data-height="24">
         </div>
        </li>
        <li>
         <!-- IN/Share -->
         <script src="//platform.linkedin.com/in.js" type="text/javascript">
          lang: ja_JP
         </script>
         <script data-counter="right" type="IN/Share">
         </script>
        </li>
       </ul>
      </div>
      <!-- SNS end -->
      <div class="sidebar-module">
       <p class="sidebar-heading">
        Python入門
       </p>
       <ol class="list-unstyled">
        <li>
         <a href="./">
          トップページ
         </a>
        </li>
        <li>
         <a href="./navi.html">
          目次
         </a>
        </li>
        <li>
         <a href="./qa.html">
          質問と回答
         </a>
        </li>
        <li>
         <a href="./books.html">
          おすすめPython書籍
         </a>
        </li>
       </ol>
      </div>
      <div class="sidebar-module">
       <p class="sidebar-heading">
        Pythonの基礎
       </p>
       <ol class="list-unstyled">
        <li>
         <a href="./001.html">
          プログラミングとは
         </a>
        </li>
        <li>
         <a href="./002.html">
          なぜPythonを学ぶのか
         </a>
        </li>
        <li>
         <a href="./003.html">
          Python3のインストール
         </a>
        </li>
        <li>
         <a href="./004.html">
          インタプリタの実行
         </a>
        </li>
        <li>
         <a href="./005.html">
          プログラムファイルの実行
         </a>
        </li>
        <li>
         <a href="./006.html">
          コメント
         </a>
        </li>
        <li>
         <a href="./007.html">
          データと型
         </a>
        </li>
        <li>
         <a href="./008.html">
          変数
         </a>
        </li>
        <li>
         <a href="./009.html">
          変数の名前付け
         </a>
        </li>
        <li>
         <a href="./010.html">
          定数とマジックナンバー
         </a>
        </li>
        <li>
         <a href="./011.html">
          主要な型と演算子
         </a>
        </li>
        <li>
         <a href="./012.html">
          条件分岐とコードブロック
         </a>
        </li>
        <li>
         <a href="./013.html">
          ループ
         </a>
        </li>
        <li>
         <a href="./014.html">
          関数
         </a>
        </li>
        <li>
         <a href="./015.html">
          名前空間
         </a>
        </li>
        <li>
         <a href="./016.html">
          オブジェクト指向を体験
         </a>
        </li>
        <li>
         <a href="./017.html">
          モジュールの利用
         </a>
        </li>
        <li>
         <a href="./018.html">
          モジュールの作成
         </a>
        </li>
        <li>
         <a href="./019.html">
          プログラムのエラー
         </a>
        </li>
       </ol>
      </div>
      <!-- amazon -->
      <div class="sidebar-module">
       <script type="text/javascript">
        amazon_ad_tag = "grit-22";
              amazon_ad_width = "300";
              amazon_ad_height = "250";
              amazon_ad_link_target = "new";
       </script>
       <script src="http://ir-jp.amazon-adsystem.com/s/ads.js">
       </script>
      </div>
      <!-- amazon end-->
      <div class="sidebar-module">
       <p class="sidebar-heading">
        Python入門
       </p>
       <ol class="list-unstyled">
        <li>
         <a href="https://github.com/yuichi110/www.yuichi.com-python" target="_blank">
          <span class="fa fa-github">
          </span>
          GitHub Repository
         </a>
        </li>
        <li>
         <a href="https://twitter.com/yuichi110" target="_blank">
          <i class="fa fa-twitter">
          </i>
          Twitter
         </a>
        </li>
        <li>
         <a href="https://www.linkedin.com/in/yuichiito/" target="_blank">
          <span class="fa fa-linkedin">
          </span>
          Linkedin (英語)
         </a>
        </li>
        <li class="li-none">
         <a href="#" id="rw_email_contact">
          <span class="fa fa-envelope">
           Mail
          </span>
         </a>
         <script type="text/javascript">
          var _rwObsfuscatedHref0 = "mai";
                  var _rwObsfuscatedHref1 = "lto";
                  var _rwObsfuscatedHref2 = ":yu";
                  var _rwObsfuscatedHref3 = "ich";
                  var _rwObsfuscatedHref4 = "i@y";
                  var _rwObsfuscatedHref5 = "uic";
                  var _rwObsfuscatedHref6 = "hi.";
                  var _rwObsfuscatedHref7 = "com";
                  var _rwObsfuscatedHref = _rwObsfuscatedHref0 + _rwObsfuscatedHref1 + _rwObsfuscatedHref2 + _rwObsfuscatedHref3 + _rwObsfuscatedHref4 + _rwObsfuscatedHref5 + _rwObsfuscatedHref6 + _rwObsfuscatedHref7;
                  document.getElementById("rw_email_contact").href = _rwObsfuscatedHref;
         </script>
        </li>
       </ol>
      </div>
      <div class="sidebar-module">
       <!-- padding for side bar -->
       <div class="hidden-xs">
        <p style="height:500px">
        </p>
       </div>
      </div>
     </div>
     <!-- /.blog-sidebar -->
    </div>
    <!-- /.row -->
   </div>
   <!-- /.container -->
   <footer>
    <div class="u1-footer-top">
    </div>
    <div class="u1-footer">
     <p>
      Copyright © 2017 Yuichi Ito All Rights Reserved.
     </p>
     <p align="center">
      修正依頼がある場合は右ページよりページURLと問題箇所を指摘願います。
      <a href="https://github.com/yuichi110/www.yuichi.com-python/issues">
       <span class="fa fa-github">
       </span>
       Git Hub Issues
      </a>
     </p>
    </div>
   </footer>
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js">
   </script>
   <script src="./assets/js/bootstrap.min.js">
   </script>
   <script src="./assets/js/delete_useless_dom.js">
   </script>
   <!-- GOOGLE ANALYTICS -->
   <script>
    (function(i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function() {
          (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
          m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
      })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
      ga('create', 'UA-4830860-7', 'auto');
      ga('send', 'pageview');
   </script>
  </div>
  <!-- end of background -->
 </body>
</html>
